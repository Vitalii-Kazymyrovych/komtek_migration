-- videoanalytics.aggregated_metrics_core definition

-- Drop table

-- DROP TABLE videoanalytics.aggregated_metrics_core;

CREATE TABLE videoanalytics.aggregated_metrics_core (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	start_time timestamp(3) NOT NULL,
	cpu_load text NOT NULL,
	startups_number int4 NOT NULL,
	client_id int4 NOT NULL,
	CONSTRAINT aggregated_metrics_core_pkey PRIMARY KEY (id),
	CONSTRAINT aggregated_metrics_core_start_time_key UNIQUE (start_time)
);


-- videoanalytics.alpr_detections definition

-- Drop table

-- DROP TABLE videoanalytics.alpr_detections;

CREATE TABLE videoanalytics.alpr_detections (
	id int8 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1 NO CYCLE) NOT NULL,
	plate_number varchar(15) DEFAULT ''::character varying NOT NULL,
	arabic_number varchar(64) DEFAULT ''::character varying NOT NULL,
	adr varchar(10) DEFAULT ''::character varying NOT NULL,
	box text NULL,
	plate_image text NULL,
	frame_image text NULL,
	analytics_id int4 NOT NULL,
	make_model_id int4 DEFAULT '-1'::integer NOT NULL,
	vehicle_type int4 DEFAULT 1 NOT NULL,
	created_at timestamp(3) NOT NULL,
	color_id int4 NULL,
	direction int4 NULL,
	country varchar(5) NULL,
	pattern varchar(100) NULL,
	client_id int4 DEFAULT 0 NOT NULL,
	latitude numeric(9, 6) DEFAULT 0 NULL,
	longitude numeric(9, 6) DEFAULT 0 NULL,
	CONSTRAINT alpr_plates_pkey PRIMARY KEY (id)
);
CREATE INDEX alpr_detections_analytics_id ON videoanalytics.alpr_detections USING btree (analytics_id);
CREATE INDEX alpr_detections_created_at ON videoanalytics.alpr_detections USING btree (created_at DESC);
CREATE INDEX alpr_detections_created_at_analytics ON videoanalytics.alpr_detections USING btree (created_at DESC, analytics_id);
CREATE INDEX alpr_detections_created_at_analytics_make_model ON videoanalytics.alpr_detections USING btree (created_at DESC, make_model_id, analytics_id);
CREATE INDEX alpr_detections_created_at_color_make_model ON videoanalytics.alpr_detections USING btree (created_at DESC, make_model_id, color_id);
CREATE INDEX alpr_detections_created_at_make_model ON videoanalytics.alpr_detections USING btree (created_at DESC, make_model_id);
CREATE INDEX alpr_detections_created_at_plate_number ON videoanalytics.alpr_detections USING btree (created_at DESC, plate_number);
CREATE INDEX alpr_detections_plate_number ON videoanalytics.alpr_detections USING btree (plate_number);
CREATE INDEX alpr_detections_plate_number_analytics_id ON videoanalytics.alpr_detections USING btree (plate_number, analytics_id);


-- videoanalytics.alpr_hourly_statistics definition

-- Drop table

-- DROP TABLE videoanalytics.alpr_hourly_statistics;

CREATE TABLE videoanalytics.alpr_hourly_statistics (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	analytics_id int4 NOT NULL,
	total int4 NOT NULL,
	numbers int4 NOT NULL,
	make_models int4 NOT NULL,
	created_at timestamp(3) NOT NULL,
	client_id int4 NULL,
	CONSTRAINT alpr_stats_hourly_pkey PRIMARY KEY (id)
);
CREATE INDEX alpr_stats_hourly_created_at ON videoanalytics.alpr_hourly_statistics USING btree (created_at, client_id);
CREATE INDEX alpr_stats_hourly_created_at_stream ON videoanalytics.alpr_hourly_statistics USING btree (created_at, analytics_id, client_id);


-- videoanalytics.alpr_list_events definition

-- Drop table

-- DROP TABLE videoanalytics.alpr_list_events;

CREATE TABLE videoanalytics.alpr_list_events (
	id int8 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1 NO CYCLE) NOT NULL,
	detection_id int8 NOT NULL,
	list_id int4 NULL,
	list_item_id int4 NULL,
	list_item_name varchar(15) NULL,
	status int4 DEFAULT 1 NOT NULL,
	accepted_by int4 DEFAULT 0 NOT NULL,
	created_at timestamp(3) DEFAULT now() NOT NULL,
	plate_number varchar(15) DEFAULT ''::character varying NOT NULL,
	arabic_number varchar(64) DEFAULT ''::character varying NOT NULL,
	adr varchar(10) DEFAULT ''::character varying NOT NULL,
	box text NULL,
	plate_image text NULL,
	frame_image text NULL,
	analytics_id int4 DEFAULT 1 NOT NULL,
	make_model_id int4 DEFAULT '-1'::integer NOT NULL,
	vehicle_type int4 DEFAULT 0 NOT NULL,
	color_id int4 NOT NULL,
	direction int4 NOT NULL,
	country varchar(5) NULL,
	pattern varchar(100) NULL,
	latitude numeric(9, 6) NULL,
	longitude numeric(9, 6) NULL,
	client_id int4 DEFAULT 0 NOT NULL,
	CONSTRAINT alpr_notifications_pkey PRIMARY KEY (id)
);
CREATE INDEX alpr_list_events_created_at ON videoanalytics.alpr_list_events USING btree (created_at DESC);
CREATE INDEX alpr_list_events_detection_id ON videoanalytics.alpr_list_events USING btree (detection_id);
CREATE INDEX alpr_list_events_list_id ON videoanalytics.alpr_list_events USING btree (list_id);
CREATE INDEX alpr_list_events_list_id_created_at ON videoanalytics.alpr_list_events USING btree (created_at DESC, list_id);


-- videoanalytics.alpr_list_items definition

-- Drop table

-- DROP TABLE videoanalytics.alpr_list_items;

CREATE TABLE videoanalytics.alpr_list_items (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"number" varchar(20) DEFAULT ''::character varying NOT NULL,
	"comment" text NULL,
	status int4 DEFAULT 1 NOT NULL,
	created_at timestamp(3) DEFAULT now() NOT NULL,
	created_by int4 DEFAULT 0 NOT NULL,
	closed_at timestamp(3) NULL,
	list_id int4 NULL,
	client_id int4 NOT NULL,
	CONSTRAINT alpr_list_items_pkey PRIMARY KEY (id)
);


-- videoanalytics.alpr_lists definition

-- Drop table

-- DROP TABLE videoanalytics.alpr_lists;

CREATE TABLE videoanalytics.alpr_lists (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" varchar(45) NOT NULL,
	"comment" varchar(255) NULL,
	analytics_ids text NULL,
	send_internal_notifications bool DEFAULT false NOT NULL,
	events_holder text NULL,
	status int4 DEFAULT 1 NOT NULL,
	created_at timestamp(3) DEFAULT now() NOT NULL,
	list_permissions text NOT NULL,
	enabled bool DEFAULT false NULL,
	color bpchar(7) DEFAULT '#FFFFFF'::bpchar NOT NULL,
	client_id int4 NOT NULL,
	show_popup_for_internal_notifications bool DEFAULT false NOT NULL,
	CONSTRAINT alpr_lists_pkey PRIMARY KEY (id)
);


-- videoanalytics.alpr_speed_rules definition

-- Drop table

-- DROP TABLE videoanalytics.alpr_speed_rules;

CREATE TABLE videoanalytics.alpr_speed_rules (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" varchar(45) DEFAULT ''::character varying NOT NULL,
	analytics_id1 int4 NOT NULL,
	analytics_id2 int4 NOT NULL,
	speed_limit int4 DEFAULT 0 NULL,
	speed_unit int4 DEFAULT 0 NULL,
	distance float8 DEFAULT 0 NULL,
	distance_unit int4 DEFAULT 0 NULL,
	min_speed int4 DEFAULT 0 NULL,
	min_speed_unit int4 DEFAULT 0 NULL,
	max_duration int4 DEFAULT 0 NULL,
	events_holder text NULL,
	client_id int4 NOT NULL,
	CONSTRAINT alpr_speed_rules_pkey PRIMARY KEY (id)
);


-- videoanalytics.analytics definition

-- Drop table

-- DROP TABLE videoanalytics.analytics;

CREATE TABLE videoanalytics.analytics (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"uuid" uuid NOT NULL,
	"type" text NULL,
	plugin_name text NULL,
	"name" text NULL,
	created_at timestamp(3) NOT NULL,
	status text NOT NULL,
	client_id int4 NOT NULL,
	stream text NULL,
	"module" text NULL,
	last_gpu_id int4 NULL,
	desired_server_id varchar(100) NULL,
	disable_balancing bool NULL,
	start_signature varchar(50) NULL,
	allowed_server_ids text NULL,
	restrictions text NULL,
	events_holder text NULL,
	start_at timestamp(3) NULL,
	stream_uuid uuid NULL,
	group_id int4 DEFAULT 0 NOT NULL,
	CONSTRAINT analytics_pkey PRIMARY KEY (id)
);


-- videoanalytics.analytics_groups definition

-- Drop table

-- DROP TABLE videoanalytics.analytics_groups;

CREATE TABLE videoanalytics.analytics_groups (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" text NOT NULL,
	parent_id int4 NOT NULL,
	plugin_name text NOT NULL,
	client_id int4 NOT NULL,
	CONSTRAINT analytics_groups_pkey PRIMARY KEY (id)
);


-- videoanalytics.api_tokens definition

-- Drop table

-- DROP TABLE videoanalytics.api_tokens;

CREATE TABLE videoanalytics.api_tokens (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" text NOT NULL,
	user_id int4 NOT NULL,
	api_key text NOT NULL,
	api_key_hash text NOT NULL,
	issued_at timestamp(3) NOT NULL,
	expires_at timestamp(3) NOT NULL,
	CONSTRAINT api_tokens_pkey PRIMARY KEY (id)
);


-- videoanalytics.audit_trail definition

-- Drop table

-- DROP TABLE videoanalytics.audit_trail;

CREATE TABLE videoanalytics.audit_trail (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	created_at timestamp(3) NOT NULL,
	session_id varchar(255) NULL,
	user_id int4 NULL,
	user_ip varchar(45) NULL,
	source_id varchar(255) NOT NULL,
	message text NOT NULL,
	client_id int4 NOT NULL,
	event_category_id uuid DEFAULT '00000000-0000-0000-0000-000000000000'::uuid NOT NULL,
	event_action_id uuid DEFAULT '00000000-0000-0000-0000-000000000000'::uuid NOT NULL,
	CONSTRAINT audit_trail_pkey PRIMARY KEY (id)
);
CREATE INDEX "audit-event_action-index" ON videoanalytics.audit_trail USING btree (event_action_id);
CREATE INDEX "audit-event_category-index" ON videoanalytics.audit_trail USING btree (event_category_id);


-- videoanalytics.axis_station_pro_settings definition

-- Drop table

-- DROP TABLE videoanalytics.axis_station_pro_settings;

CREATE TABLE videoanalytics.axis_station_pro_settings (
	host text NOT NULL,
	port int4 NOT NULL,
	username text NOT NULL,
	"password" text NOT NULL
);


-- videoanalytics.backups definition

-- Drop table

-- DROP TABLE videoanalytics.backups;

CREATE TABLE videoanalytics.backups (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	file_name varchar(255) NOT NULL,
	description text NULL,
	core_version varchar(255) NOT NULL,
	"type" varchar(255) NOT NULL,
	created_at timestamp(3) NOT NULL,
	"size" int8 NOT NULL,
	client_id int4 NOT NULL,
	is_vms_integration_enabled bool NOT NULL,
	CONSTRAINT backups_pkey PRIMARY KEY (id)
);


-- videoanalytics.cleaning_settings definition

-- Drop table

-- DROP TABLE videoanalytics.cleaning_settings;

CREATE TABLE videoanalytics.cleaning_settings (
	category_id varchar(255) NOT NULL,
	retention_period int4 NOT NULL,
	CONSTRAINT cleaning_settings_category_id_key UNIQUE (category_id)
);


-- videoanalytics.clients definition

-- Drop table

-- DROP TABLE videoanalytics.clients;

CREATE TABLE videoanalytics.clients (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	client_name varchar(250) NOT NULL,
	country varchar(250) DEFAULT ''::character varying NOT NULL,
	city varchar(250) DEFAULT ''::character varying NOT NULL,
	address varchar(250) DEFAULT ''::character varying NOT NULL,
	zip_code varchar(15) DEFAULT ''::character varying NOT NULL,
	email varchar(250) DEFAULT ''::character varying NOT NULL,
	phone varchar(20) DEFAULT ''::character varying NOT NULL,
	"comment" text DEFAULT ''::text NOT NULL,
	CONSTRAINT clients_pkey PRIMARY KEY (id)
);


-- videoanalytics.databasechangelog definition

-- Drop table

-- DROP TABLE videoanalytics.databasechangelog;

CREATE TABLE videoanalytics.databasechangelog (
	id varchar(255) NOT NULL,
	author varchar(255) NOT NULL,
	filename varchar(255) NOT NULL,
	dateexecuted timestamp NOT NULL,
	orderexecuted int4 NOT NULL,
	exectype varchar(10) NOT NULL,
	md5sum varchar(35) NULL,
	description varchar(255) NULL,
	"comments" varchar(255) NULL,
	tag varchar(255) NULL,
	liquibase varchar(20) NULL,
	contexts varchar(255) NULL,
	labels varchar(255) NULL,
	deployment_id varchar(10) NULL
);


-- videoanalytics.databasechangeloglock definition

-- Drop table

-- DROP TABLE videoanalytics.databasechangeloglock;

CREATE TABLE videoanalytics.databasechangeloglock (
	id int4 NOT NULL,
	"locked" bool NOT NULL,
	lockgranted timestamp NULL,
	lockedby varchar(255) NULL,
	CONSTRAINT databasechangeloglock_pkey PRIMARY KEY (id)
);


-- videoanalytics.event_manager definition

-- Drop table

-- DROP TABLE videoanalytics.event_manager;

CREATE TABLE videoanalytics.event_manager (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"uuid" varchar(255) NOT NULL,
	title text DEFAULT ''::text NULL,
	description text DEFAULT ''::text NULL,
	created_at timestamp(3) NULL,
	nodes text DEFAULT ''::text NULL,
	client_id int4 NOT NULL,
	CONSTRAINT event_manager_temp_pkey PRIMARY KEY (id),
	CONSTRAINT event_manager_temp_uuid_key UNIQUE (uuid)
);


-- videoanalytics.face_detections definition

-- Drop table

-- DROP TABLE videoanalytics.face_detections;

CREATE TABLE videoanalytics.face_detections (
	id int8 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1 NO CYCLE) NOT NULL,
	list_id int4 NULL,
	list_item_id int4 NULL,
	confidence int4 NULL,
	box text NULL,
	face_image text NULL,
	frame_image text NULL,
	analytics_id int4 NOT NULL,
	age varchar(10) NULL,
	gender int4 NULL,
	race varchar(20) NULL,
	spoofed bool NULL,
	mask bool NULL,
	created_at timestamp(3) NOT NULL,
	client_id int4 NULL,
	latitude numeric(9, 6) NULL,
	longitude numeric(9, 6) NULL,
	"uuid" text NULL,
	CONSTRAINT face_detections_pkey PRIMARY KEY (id)
);
CREATE INDEX face_detections_confidence ON videoanalytics.face_detections USING btree (confidence);
CREATE INDEX face_detections_created_at ON videoanalytics.face_detections USING btree (created_at DESC);
CREATE INDEX face_detections_created_at_va ON videoanalytics.face_detections USING btree (created_at DESC, analytics_id);
CREATE INDEX face_detections_list_id ON videoanalytics.face_detections USING btree (list_id);
CREATE INDEX face_detections_list_item_id ON videoanalytics.face_detections USING btree (list_item_id);


-- videoanalytics.face_list_items definition

-- Drop table

-- DROP TABLE videoanalytics.face_list_items;

CREATE TABLE videoanalytics.face_list_items (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" varchar(255) DEFAULT ''::character varying NOT NULL,
	"comment" text DEFAULT ''::text NULL,
	status int4 DEFAULT 1 NOT NULL,
	created_at timestamp(3) DEFAULT now() NOT NULL,
	created_by int4 DEFAULT 0 NOT NULL,
	closed_at timestamp(3) NULL,
	list_id int4 NULL,
	expiration_settings text NULL,
	client_id int4 NOT NULL,
	expiration_settings_enabled bool DEFAULT false NOT NULL,
	expiration_settings_action varchar(32) DEFAULT 'none'::character varying NOT NULL,
	expiration_settings_list_id int4 NULL,
	expiration_settings_date timestamp(3) NULL,
	expiration_settings_events_holder text NULL,
	CONSTRAINT face_list_items_pkey PRIMARY KEY (id)
);
CREATE INDEX "IDX__face_list_items__expiration_settings_date" ON videoanalytics.face_list_items USING btree (expiration_settings_date);


-- videoanalytics.face_list_items_images definition

-- Drop table

-- DROP TABLE videoanalytics.face_list_items_images;

CREATE TABLE videoanalytics.face_list_items_images (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	list_item_id int4 NOT NULL,
	"path" text NOT NULL,
	"encoding" bytea NULL,
	points text NULL,
	CONSTRAINT face_list_items_images_pkey PRIMARY KEY (id)
);
CREATE INDEX list_item_id ON videoanalytics.face_list_items_images USING btree (list_item_id);


-- videoanalytics.face_lists definition

-- Drop table

-- DROP TABLE videoanalytics.face_lists;

CREATE TABLE videoanalytics.face_lists (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" varchar(45) NOT NULL,
	"comment" varchar(255) NULL,
	min_confidence int4 DEFAULT 80 NOT NULL,
	send_internal_notifications bool DEFAULT false NOT NULL,
	events_holder text NULL,
	status int4 DEFAULT 1 NOT NULL,
	created_at timestamp(3) DEFAULT now() NOT NULL,
	client_id int4 NOT NULL,
	color bpchar(7) DEFAULT '#FFFFFF'::bpchar NOT NULL,
	time_attendance text NULL,
	list_permissions text NOT NULL,
	analytics_ids text NULL,
	show_popup_for_internal_notifications bool DEFAULT false NOT NULL,
	CONSTRAINT face_lists_pkey PRIMARY KEY (id)
);


-- videoanalytics.face_notifications definition

-- Drop table

-- DROP TABLE videoanalytics.face_notifications;

CREATE TABLE videoanalytics.face_notifications (
	id int8 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1 NO CYCLE) NOT NULL,
	detection_id int8 NOT NULL,
	status int4 DEFAULT 1 NOT NULL,
	accepted_by int4 DEFAULT 0 NOT NULL,
	created_at timestamp(3) DEFAULT now() NOT NULL,
	list_id int4 NULL,
	list_item_id int4 NULL,
	analytics_id int4 DEFAULT 1 NOT NULL,
	"uuid" text NULL,
	confidence int4 NULL,
	box text NULL,
	face_image text NULL,
	frame_image text NULL,
	age varchar(10) NULL,
	gender int4 DEFAULT 2 NULL,
	race varchar(20) NULL,
	spoofed bool NULL,
	mask bool NULL,
	latitude numeric(9, 6) NULL,
	longitude numeric(9, 6) NULL,
	client_id int4 DEFAULT 0 NOT NULL,
	CONSTRAINT face_notifications_pkey PRIMARY KEY (id)
);
CREATE INDEX face_notifications_face_id ON videoanalytics.face_notifications USING btree (detection_id);
CREATE INDEX face_notifications_row_id_status_alert_name_created_at ON videoanalytics.face_notifications USING btree (detection_id, status, created_at);


-- videoanalytics.face_unique_person_mapping definition

-- Drop table

-- DROP TABLE videoanalytics.face_unique_person_mapping;

CREATE TABLE videoanalytics.face_unique_person_mapping (
	id uuid NOT NULL,
	face_id int8 NOT NULL,
	list_id int4 NULL,
	created_at timestamp(3) NOT NULL
);
CREATE INDEX face_unique_person_mapping_face_id ON videoanalytics.face_unique_person_mapping USING btree (face_id);
CREATE INDEX face_unique_person_mapping_face_uuid ON videoanalytics.face_unique_person_mapping USING btree (id);


-- videoanalytics.gun_notifications definition

-- Drop table

-- DROP TABLE videoanalytics.gun_notifications;

CREATE TABLE videoanalytics.gun_notifications (
	id int8 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1 NO CYCLE) NOT NULL,
	va_id int4 NOT NULL,
	frame_image text NOT NULL,
	thumbnail_image text NULL,
	objects text NOT NULL,
	"zone" text NOT NULL,
	created_at timestamp(3) NOT NULL,
	client_id int4 NOT NULL,
	status int4 DEFAULT 1 NOT NULL,
	accepted_by int4 DEFAULT 0 NOT NULL,
	latitude numeric(9, 6) NULL,
	longitude numeric(9, 6) NULL,
	CONSTRAINT gun_notifications_pkey PRIMARY KEY (id)
);
CREATE INDEX gun_detection_id_status_created_at ON videoanalytics.gun_notifications USING btree (id, created_at);


-- videoanalytics.gun_type_mapping definition

-- Drop table

-- DROP TABLE videoanalytics.gun_type_mapping;

CREATE TABLE videoanalytics.gun_type_mapping (
	id int8 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1 NO CYCLE) NOT NULL,
	notification_id int8 NOT NULL,
	"type" int4 NOT NULL,
	CONSTRAINT gun_type_mapping_pkey PRIMARY KEY (id)
);


-- videoanalytics.hardhats_notifications definition

-- Drop table

-- DROP TABLE videoanalytics.hardhats_notifications;

CREATE TABLE videoanalytics.hardhats_notifications (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	status int4 DEFAULT 1 NOT NULL,
	accepted_by int4 DEFAULT 0 NOT NULL,
	objects text NULL,
	va_id int4 NOT NULL,
	frame_image text NOT NULL,
	thumbnail_image text NULL,
	created_at timestamp(3) DEFAULT now() NOT NULL,
	"zone" text NULL,
	client_id int4 NULL,
	latitude numeric(9, 6) NULL,
	longitude numeric(9, 6) NULL,
	CONSTRAINT hardhats_notifications_pkey PRIMARY KEY (id)
);
CREATE INDEX hardhats_id_status_created_at ON videoanalytics.hardhats_notifications USING btree (id, status, created_at);


-- videoanalytics.jettysessions definition

-- Drop table

-- DROP TABLE videoanalytics.jettysessions;

CREATE TABLE videoanalytics.jettysessions (
	sessionid varchar(120) NOT NULL,
	contextpath varchar(60) NOT NULL,
	virtualhost varchar(60) NOT NULL,
	lastnode varchar(60) NULL,
	accesstime int8 NULL,
	lastaccesstime int8 NULL,
	createtime int8 NULL,
	cookietime int8 NULL,
	lastsavedtime int8 NULL,
	expirytime int8 NULL,
	maxinterval int8 NULL,
	"map" bytea NULL,
	CONSTRAINT jettysessions_pkey PRIMARY KEY (sessionid, contextpath, virtualhost)
);
CREATE INDEX idx_jettysessions_expiry ON videoanalytics.jettysessions USING btree (expirytime);
CREATE INDEX idx_jettysessions_session ON videoanalytics.jettysessions USING btree (sessionid, contextpath);


-- videoanalytics.koatuu_level1 definition

-- Drop table

-- DROP TABLE videoanalytics.koatuu_level1;

CREATE TABLE videoanalytics.koatuu_level1 (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" varchar(255) NOT NULL,
	CONSTRAINT koatuu_level1_pkey PRIMARY KEY (id)
);


-- videoanalytics.koatuu_level2 definition

-- Drop table

-- DROP TABLE videoanalytics.koatuu_level2;

CREATE TABLE videoanalytics.koatuu_level2 (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	level1_id varchar(2) NOT NULL,
	"name" varchar(255) NOT NULL,
	CONSTRAINT koatuu_level2_pkey PRIMARY KEY (id)
);
CREATE INDEX level1_id ON videoanalytics.koatuu_level2 USING btree (level1_id);


-- videoanalytics.koatuu_level3 definition

-- Drop table

-- DROP TABLE videoanalytics.koatuu_level3;

CREATE TABLE videoanalytics.koatuu_level3 (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	level1_id varchar(2) NOT NULL,
	level2_id varchar(4) NOT NULL,
	"name" varchar(255) NOT NULL,
	CONSTRAINT koatuu_level3_pkey PRIMARY KEY (id)
);
CREATE INDEX koatuu_level3_level1_id ON videoanalytics.koatuu_level3 USING btree (level1_id);
CREATE INDEX level2_id ON videoanalytics.koatuu_level3 USING btree (level2_id);
CREATE INDEX level2_id_2 ON videoanalytics.koatuu_level3 USING btree (level1_id, level2_id);


-- videoanalytics.network_settings definition

-- Drop table

-- DROP TABLE videoanalytics.network_settings;

CREATE TABLE videoanalytics.network_settings (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" text NOT NULL,
	local_mask text NOT NULL,
	public_address text NULL,
	CONSTRAINT network_settings_pkey PRIMARY KEY (id)
);


-- videoanalytics.object_in_zone_notifications definition

-- Drop table

-- DROP TABLE videoanalytics.object_in_zone_notifications;

CREATE TABLE videoanalytics.object_in_zone_notifications (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	analytics_id int4 NULL,
	status int4 DEFAULT 1 NOT NULL,
	accepted_by int4 DEFAULT 0 NOT NULL,
	frame_image text NOT NULL,
	thumbnail_image text NOT NULL,
	"zone" text NULL,
	dwell_time int4 NOT NULL,
	"trigger" int4 NOT NULL,
	notification_type varchar(10) DEFAULT 'alert'::character varying NOT NULL,
	action_type varchar(20) NULL,
	resolution text NULL,
	created_at timestamp(3) NOT NULL,
	client_id int4 NULL,
	latitude numeric(9, 6) NULL,
	longitude numeric(9, 6) NULL,
	CONSTRAINT object_in_zone_notifications_pkey PRIMARY KEY (id)
);
CREATE INDEX exit_zone_notifications_created_at ON videoanalytics.object_in_zone_notifications USING btree (created_at);
CREATE INDEX object_in_zone_notifications_id_status_created_at ON videoanalytics.object_in_zone_notifications USING btree (id, status, created_at);


-- videoanalytics.opendata_body_set definition

-- Drop table

-- DROP TABLE videoanalytics.opendata_body_set;

CREATE TABLE videoanalytics.opendata_body_set (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" varchar(255) NOT NULL,
	CONSTRAINT opendata_body_set_pkey PRIMARY KEY (id)
);
CREATE UNIQUE INDEX name ON videoanalytics.opendata_body_set USING btree (name);


-- videoanalytics.opendata_color_set definition

-- Drop table

-- DROP TABLE videoanalytics.opendata_color_set;

CREATE TABLE videoanalytics.opendata_color_set (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" varchar(20) NOT NULL,
	CONSTRAINT opendata_color_set_pkey PRIMARY KEY (id)
);


-- videoanalytics.opendata_dep_set definition

-- Drop table

-- DROP TABLE videoanalytics.opendata_dep_set;

CREATE TABLE videoanalytics.opendata_dep_set (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	code int4 NOT NULL,
	"name" varchar(255) NOT NULL,
	CONSTRAINT opendata_dep_set_pkey PRIMARY KEY (id)
);
CREATE UNIQUE INDEX code ON videoanalytics.opendata_dep_set USING btree (code);


-- videoanalytics.opendata_fuel_set definition

-- Drop table

-- DROP TABLE videoanalytics.opendata_fuel_set;

CREATE TABLE videoanalytics.opendata_fuel_set (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" varchar(40) NOT NULL,
	CONSTRAINT opendata_fuel_set_pkey PRIMARY KEY (id)
);


-- videoanalytics.opendata_kind_set definition

-- Drop table

-- DROP TABLE videoanalytics.opendata_kind_set;

CREATE TABLE videoanalytics.opendata_kind_set (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" varchar(20) NOT NULL,
	CONSTRAINT opendata_kind_set_pkey PRIMARY KEY (id)
);


-- videoanalytics.opendata_make_models definition

-- Drop table

-- DROP TABLE videoanalytics.opendata_make_models;

CREATE TABLE videoanalytics.opendata_make_models (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	make varchar(50) NOT NULL,
	model varchar(50) NOT NULL,
	"name" varchar(100) NOT NULL,
	CONSTRAINT opendata_make_models_pkey PRIMARY KEY (id)
);


-- videoanalytics.opendata_oper_set definition

-- Drop table

-- DROP TABLE videoanalytics.opendata_oper_set;

CREATE TABLE videoanalytics.opendata_oper_set (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	code int4 NOT NULL,
	"name" varchar(255) NOT NULL,
	CONSTRAINT opendata_oper_set_pkey PRIMARY KEY (id)
);
CREATE UNIQUE INDEX opendata_oper_set_code ON videoanalytics.opendata_oper_set USING btree (code);


-- videoanalytics.opendata_purpose_set definition

-- Drop table

-- DROP TABLE videoanalytics.opendata_purpose_set;

CREATE TABLE videoanalytics.opendata_purpose_set (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" varchar(20) NOT NULL,
	CONSTRAINT opendata_purpose_set_pkey PRIMARY KEY (id)
);


-- videoanalytics.opendata_tz definition

-- Drop table

-- DROP TABLE videoanalytics.opendata_tz;

CREATE TABLE videoanalytics.opendata_tz (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	person varchar(1) NOT NULL,
	reg_addr_koatuu varchar(10) NOT NULL,
	oper_code int2 NOT NULL,
	d_reg date NOT NULL,
	dep_code int4 NOT NULL,
	brand varchar(100) NOT NULL,
	model varchar(50) NOT NULL,
	make_year int2 NOT NULL,
	color int2 NOT NULL,
	kind int2 NOT NULL,
	body int2 NOT NULL,
	purpose int2 NOT NULL,
	fuel int2 NOT NULL,
	capacity int4 NOT NULL,
	own_weight int4 NOT NULL,
	total_weight int4 NOT NULL,
	n_reg_new varchar(10) NOT NULL,
	CONSTRAINT opendata_tz_pkey PRIMARY KEY (id)
);
CREATE INDEX n_reg_new ON videoanalytics.opendata_tz USING btree (n_reg_new);


-- videoanalytics.plugin_configurations definition

-- Drop table

-- DROP TABLE videoanalytics.plugin_configurations;

CREATE TABLE videoanalytics.plugin_configurations (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	plugin_name varchar(64) NOT NULL,
	backup_ignored_tables text NOT NULL,
	managed_tables text NOT NULL,
	client_id int4 NOT NULL,
	plugin_id varchar(64) NOT NULL,
	CONSTRAINT plugin_configurations_pkey PRIMARY KEY (id)
);


-- videoanalytics.port_logistics_container_numbers definition

-- Drop table

-- DROP TABLE videoanalytics.port_logistics_container_numbers;

CREATE TABLE videoanalytics.port_logistics_container_numbers (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"number" varchar(32) DEFAULT ''::character varying NOT NULL,
	iso varchar(32) NULL,
	box text NOT NULL,
	number_image text NOT NULL,
	frame_image text NOT NULL,
	detection_id int4 NOT NULL,
	recognized_at timestamp(3) NOT NULL,
	CONSTRAINT port_logistics_container_numbers_pkey PRIMARY KEY (id)
);


-- videoanalytics.port_logistics_detections definition

-- Drop table

-- DROP TABLE videoanalytics.port_logistics_detections;

CREATE TABLE videoanalytics.port_logistics_detections (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	truck_number varchar(15) NULL,
	truck_arabic_number varchar(64) DEFAULT ''::character varying NULL,
	truck_box text NULL,
	truck_plate_image text NULL,
	truck_frame_image text NULL,
	trailer_number varchar(15) NULL,
	trailer_arabic_number varchar(64) NULL,
	trailer_box text NULL,
	trailer_plate_image text NULL,
	trailer_frame_image text NULL,
	adr varchar(10) DEFAULT ''::character varying NOT NULL,
	pattern varchar(100) NULL,
	country varchar(5) NULL,
	state varchar(5) NULL,
	make_model_id int4 DEFAULT '-1'::integer NOT NULL,
	vehicle_type int4 DEFAULT 1 NOT NULL,
	color_id int4 NULL,
	client_id int4 DEFAULT 0 NOT NULL,
	rule_id int4 NOT NULL,
	created_at timestamp(3) NOT NULL,
	direction varchar(64) NOT NULL,
	front_plate_recognized_at timestamp(3) NULL,
	trailer_plate_recognized_at timestamp(3) NULL,
	back_plate_number varchar(15) NULL,
	back_plate_arabic_number varchar(64) NULL,
	back_plate_box text NULL,
	back_plate_image text NULL,
	back_plate_frame_image text NULL,
	back_plate_recognized_at timestamp(3) NULL,
	front_plate_angle_degrees int4 NULL,
	back_plate_angle_degrees int4 NULL,
	trailer_plate_angle_degrees int4 NULL,
	overview_snapshots text NULL,
	CONSTRAINT port_logistics_detections_pkey PRIMARY KEY (id)
);


-- videoanalytics.port_logistics_rule_groups definition

-- Drop table

-- DROP TABLE videoanalytics.port_logistics_rule_groups;

CREATE TABLE videoanalytics.port_logistics_rule_groups (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" text NOT NULL,
	parent_id int4 NOT NULL,
	client_id int4 NOT NULL,
	CONSTRAINT port_logistics_rule_groups_pkey PRIMARY KEY (id)
);


-- videoanalytics.port_logistics_rules definition

-- Drop table

-- DROP TABLE videoanalytics.port_logistics_rules;

CREATE TABLE videoanalytics.port_logistics_rules (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" varchar(64) DEFAULT ''::character varying NOT NULL,
	entry_lpr_analytics_id int4 NULL,
	exit_lpr_analytics_id int4 NULL,
	container_analytics_ids varchar(64) NOT NULL,
	created_at timestamp(3) NOT NULL,
	start_at timestamp(3) NULL,
	status varchar(32) DEFAULT 'stopped'::character varying NOT NULL,
	client_id int4 NOT NULL,
	buffer_time int4 DEFAULT 20 NOT NULL,
	overview_stream_configs text NOT NULL,
	entry_lpr_analytics_angle_degrees int4 NOT NULL,
	exit_lpr_analytics_angle_degrees int4 NOT NULL,
	is_reverse_enabled bool NOT NULL,
	group_id int4 DEFAULT 0 NOT NULL,
	CONSTRAINT port_logistics_rules_pkey PRIMARY KEY (id)
);


-- videoanalytics.railroad_numbers definition

-- Drop table

-- DROP TABLE videoanalytics.railroad_numbers;

CREATE TABLE videoanalytics.railroad_numbers (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"number" varchar(32) DEFAULT ''::character varying NOT NULL,
	box text NULL,
	number_image text NULL,
	frame_image text NULL,
	created_at timestamp(3) NOT NULL,
	direction int2 NULL,
	client_id int4 NULL,
	iso_code varchar(16) NULL,
	analytics_id int4 NOT NULL,
	"zone" text NULL,
	latitude numeric(9, 6) NULL,
	longitude numeric(9, 6) NULL,
	CONSTRAINT railroad_numbers_pkey PRIMARY KEY (id)
);
CREATE INDEX idx_railroad_numbers_created_at_analytics_id ON videoanalytics.railroad_numbers USING btree (created_at DESC, analytics_id);
CREATE INDEX railroad_numbers_created_at ON videoanalytics.railroad_numbers USING btree (created_at DESC);
CREATE INDEX railroad_numbers_created_at_number ON videoanalytics.railroad_numbers USING btree (created_at DESC, number);


-- videoanalytics.roles definition

-- Drop table

-- DROP TABLE videoanalytics.roles;

CREATE TABLE videoanalytics.roles (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	role_name varchar(60) NOT NULL,
	permissions text NOT NULL,
	client_id int4 NOT NULL,
	description text NULL,
	CONSTRAINT roles_pkey PRIMARY KEY (id)
);


-- videoanalytics.servers definition

-- Drop table

-- DROP TABLE videoanalytics.servers;

CREATE TABLE videoanalytics.servers (
	id varchar(36) NOT NULL,
	"name" varchar(255) NOT NULL,
	is_external_address_enabled bool DEFAULT false NULL,
	address text NULL,
	port int4 NULL,
	CONSTRAINT servers_pkey PRIMARY KEY (id)
);


-- videoanalytics.service_certificate_info definition

-- Drop table

-- DROP TABLE videoanalytics.service_certificate_info;

CREATE TABLE videoanalytics.service_certificate_info (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	certificate_password text NULL,
	CONSTRAINT service_certificate_info_pkey PRIMARY KEY (id)
);


-- videoanalytics.smart_va_alpr_filter_presets definition

-- Drop table

-- DROP TABLE videoanalytics.smart_va_alpr_filter_presets;

CREATE TABLE videoanalytics.smart_va_alpr_filter_presets (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" text NOT NULL,
	filters text NOT NULL,
	client_id int4 NOT NULL,
	CONSTRAINT smart_va_alpr_filter_presets_pkey PRIMARY KEY (id)
);


-- videoanalytics.smart_va_heatmap_plans definition

-- Drop table

-- DROP TABLE videoanalytics.smart_va_heatmap_plans;

CREATE TABLE videoanalytics.smart_va_heatmap_plans (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" text NOT NULL,
	image_path text NOT NULL,
	width int4 NOT NULL,
	height int4 NOT NULL,
	opacity int4 NOT NULL,
	analytics text NOT NULL,
	client_id int4 NOT NULL,
	CONSTRAINT heatmap_plans_pkey PRIMARY KEY (id)
);


-- videoanalytics.smart_va_lists definition

-- Drop table

-- DROP TABLE videoanalytics.smart_va_lists;

CREATE TABLE videoanalytics.smart_va_lists (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" text NOT NULL,
	enabled bool DEFAULT true NOT NULL,
	description text NULL,
	created_at timestamp(3) NOT NULL,
	color bpchar(7) DEFAULT '#FFFFFF'::bpchar NOT NULL,
	confidence_threshold_percents float8 NOT NULL,
	analytics text NOT NULL,
	events_holder text NOT NULL,
	restrictions text NOT NULL,
	client_id int4 NOT NULL,
	enable_internal_notifications bool DEFAULT true NOT NULL,
	show_popup_for_internal_notifications bool DEFAULT false NOT NULL,
	CONSTRAINT smart_va_lists_pkey PRIMARY KEY (id)
);


-- videoanalytics.smart_va_minutely_stats definition

-- Drop table

-- DROP TABLE videoanalytics.smart_va_minutely_stats;

CREATE TABLE videoanalytics.smart_va_minutely_stats (
	id int8 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1 NO CYCLE) NOT NULL,
	va_id int4 NOT NULL,
	line varchar(12) NOT NULL,
	"type" int2 NOT NULL,
	count int4 NOT NULL,
	present int4 DEFAULT 0 NOT NULL,
	direction int2 DEFAULT 0 NOT NULL,
	created_at timestamp NOT NULL,
	client_id int4 NOT NULL,
	CONSTRAINT smart_va_hourly_stats_pkey PRIMARY KEY (id)
);
CREATE INDEX smart_va_minutely_stats_created_at ON videoanalytics.smart_va_minutely_stats USING btree (created_at);


-- videoanalytics.smart_va_notifications definition

-- Drop table

-- DROP TABLE videoanalytics.smart_va_notifications;

CREATE TABLE videoanalytics.smart_va_notifications (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	status int4 DEFAULT 1 NOT NULL,
	accepted_by int4 DEFAULT 0 NOT NULL,
	va_id int4 NOT NULL,
	stream_id int4 NOT NULL,
	frame_image text NOT NULL,
	thumbnail_image text NOT NULL,
	"trigger" int4 NULL,
	trigger_settings text NULL,
	notification_type varchar(10) DEFAULT 'alert'::character varying NOT NULL,
	resolution text NOT NULL,
	created_at timestamp(3) NOT NULL,
	rule_type int4 NOT NULL,
	"rule" text NOT NULL,
	client_id int4 NOT NULL,
	notification_status int4 DEFAULT 1 NOT NULL,
	presence_action_type text NULL,
	CONSTRAINT smart_va_notifications_pkey PRIMARY KEY (id)
);
CREATE INDEX smart_va_id_created_at ON videoanalytics.smart_va_notifications USING btree (id, created_at);


-- videoanalytics.smart_va_people_detections definition

-- Drop table

-- DROP TABLE videoanalytics.smart_va_people_detections;

CREATE TABLE videoanalytics.smart_va_people_detections (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"uuid" uuid NOT NULL,
	stream_id int4 NOT NULL,
	va_id int4 NULL,
	frame_image text NOT NULL,
	thumbnail_image text NOT NULL,
	confidence float8 NULL,
	age int4 NULL,
	bag int4 NULL,
	up_color int4 NULL,
	down_color int4 NULL,
	hat bool NULL,
	gender int4 NULL,
	"timestamp" timestamp(3) NOT NULL,
	client_id int4 NULL,
	frame_id uuid NOT NULL,
	x1 float8 NULL,
	y1 float8 NULL,
	x2 float8 NULL,
	y2 float8 NULL,
	CONSTRAINT smart_va_people_detections_pkey PRIMARY KEY (id)
);
CREATE INDEX people_detections_frame_id_idx ON videoanalytics.smart_va_people_detections USING btree (frame_id);
CREATE INDEX people_detections_timestamp ON videoanalytics.smart_va_people_detections USING btree ("timestamp" DESC);
CREATE INDEX people_detections_uuid_idx ON videoanalytics.smart_va_people_detections USING btree (uuid);
CREATE INDEX smart_va_age_idx ON videoanalytics.smart_va_people_detections USING btree (age);
CREATE INDEX smart_va_bag_idx ON videoanalytics.smart_va_people_detections USING btree (bag);
CREATE INDEX smart_va_down_color_idx ON videoanalytics.smart_va_people_detections USING btree (down_color);
CREATE INDEX smart_va_gender_idx ON videoanalytics.smart_va_people_detections USING btree (gender);
CREATE INDEX smart_va_hat_idx ON videoanalytics.smart_va_people_detections USING btree (hat);
CREATE INDEX smart_va_up_color_idx ON videoanalytics.smart_va_people_detections USING btree (up_color);


-- videoanalytics.smart_va_person_filter_presets definition

-- Drop table

-- DROP TABLE videoanalytics.smart_va_person_filter_presets;

CREATE TABLE videoanalytics.smart_va_person_filter_presets (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" text NOT NULL,
	filters text NOT NULL,
	client_id int4 NOT NULL,
	CONSTRAINT smart_va_person_filter_presets_pkey PRIMARY KEY (id)
);


-- videoanalytics.smart_va_tracking definition

-- Drop table

-- DROP TABLE videoanalytics.smart_va_tracking;

CREATE TABLE videoanalytics.smart_va_tracking (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	object_id uuid NOT NULL,
	"timestamp" timestamp(3) NOT NULL,
	va_id int4 NOT NULL,
	x1 float8 NULL,
	y1 float8 NULL,
	x2 float8 NULL,
	y2 float8 NULL,
	position_changed bool DEFAULT true NULL,
	CONSTRAINT smart_va_tracking_pkey PRIMARY KEY (id)
);
CREATE INDEX smart_va_tracking_compound_idx ON videoanalytics.smart_va_tracking USING btree (va_id, position_changed, "timestamp");
CREATE INDEX smart_va_tracking_object_id_idx ON videoanalytics.smart_va_tracking USING btree (object_id);
CREATE INDEX smart_va_tracking_timestamp_idx ON videoanalytics.smart_va_tracking USING btree ("timestamp");


-- videoanalytics.smart_va_traffic_counters definition

-- Drop table

-- DROP TABLE videoanalytics.smart_va_traffic_counters;

CREATE TABLE videoanalytics.smart_va_traffic_counters (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	line_id varchar(12) NOT NULL,
	direction int4 NOT NULL,
	object_type int4 NOT NULL,
	count int4 NOT NULL,
	CONSTRAINT smart_va_traffic_counters_line_id_direction_object_type_key UNIQUE (line_id, direction, object_type),
	CONSTRAINT smart_va_traffic_counters_pkey PRIMARY KEY (id)
);


-- videoanalytics.smart_va_vehicle_detections definition

-- Drop table

-- DROP TABLE videoanalytics.smart_va_vehicle_detections;

CREATE TABLE videoanalytics.smart_va_vehicle_detections (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"uuid" uuid NOT NULL,
	stream_id int4 NOT NULL,
	va_id int4 NULL,
	frame_image text NOT NULL,
	thumbnail_image text NOT NULL,
	confidence float8 NULL,
	"type" int4 NULL,
	color_id int4 NULL,
	"timestamp" timestamp(3) NOT NULL,
	client_id int4 NULL,
	frame_id uuid NOT NULL,
	x1 float8 NULL,
	y1 float8 NULL,
	x2 float8 NULL,
	y2 float8 NULL,
	CONSTRAINT smart_va_vehicle_detections_pkey PRIMARY KEY (id)
);
CREATE INDEX vehicle_detections_frame_id_idx ON videoanalytics.smart_va_vehicle_detections USING btree (frame_id);
CREATE INDEX vehicle_detections_timestamp ON videoanalytics.smart_va_vehicle_detections USING btree ("timestamp" DESC);
CREATE INDEX vehicle_detections_uuid_idx ON videoanalytics.smart_va_vehicle_detections USING btree (uuid);


-- videoanalytics.smoke_fire_notifications definition

-- Drop table

-- DROP TABLE videoanalytics.smoke_fire_notifications;

CREATE TABLE videoanalytics.smoke_fire_notifications (
	id int8 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1 NO CYCLE) NOT NULL,
	status int4 DEFAULT 1 NOT NULL,
	accepted_by int4 DEFAULT 0 NOT NULL,
	objects text NULL,
	va_id int4 NOT NULL,
	frame_image text NOT NULL,
	thumbnail_image text NULL,
	"zone" text NOT NULL,
	created_at timestamp(3) DEFAULT now() NOT NULL,
	client_id int4 NULL,
	latitude numeric(9, 6) NULL,
	longitude numeric(9, 6) NULL,
	CONSTRAINT smoke_fire_notifications_pkey PRIMARY KEY (id)
);
CREATE INDEX smoke_fire_id_status_created_at ON videoanalytics.smoke_fire_notifications USING btree (id, status, created_at);


-- videoanalytics.smoke_fire_type_mapping definition

-- Drop table

-- DROP TABLE videoanalytics.smoke_fire_type_mapping;

CREATE TABLE videoanalytics.smoke_fire_type_mapping (
	id int8 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1 NO CYCLE) NOT NULL,
	notification_id int8 NOT NULL,
	"type" int4 NOT NULL,
	CONSTRAINT smoke_fire_type_mapping_pkey PRIMARY KEY (id)
);


-- videoanalytics.sounds_settings definition

-- Drop table

-- DROP TABLE videoanalytics.sounds_settings;

CREATE TABLE videoanalytics.sounds_settings (
	id varchar(100) NOT NULL,
	sound_file text NOT NULL,
	enabled bool DEFAULT true NOT NULL,
	CONSTRAINT sounds_settings_pkey PRIMARY KEY (id)
);


-- videoanalytics.stats_traffic_minutely definition

-- Drop table

-- DROP TABLE videoanalytics.stats_traffic_minutely;

CREATE TABLE videoanalytics.stats_traffic_minutely (
	id int8 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1 NO CYCLE) NOT NULL,
	va_id int4 NOT NULL,
	line int4 NOT NULL,
	"type" int4 NOT NULL,
	count int4 NOT NULL,
	direction int4 DEFAULT 0 NOT NULL,
	created_at timestamp(3) DEFAULT now() NOT NULL,
	client_id int4 NOT NULL,
	present int4 DEFAULT 0 NOT NULL,
	CONSTRAINT stats_traffic_hourly_pkey PRIMARY KEY (id)
);
CREATE INDEX stats_traffic_minutely_created_at_client ON videoanalytics.stats_traffic_minutely USING btree (created_at, client_id);
CREATE INDEX stats_traffic_minutely_created_at_va_id ON videoanalytics.stats_traffic_minutely USING btree (created_at, va_id, client_id);


-- videoanalytics.stream_groups definition

-- Drop table

-- DROP TABLE videoanalytics.stream_groups;

CREATE TABLE videoanalytics.stream_groups (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	parent_id int4 NOT NULL,
	"name" varchar(255) NOT NULL,
	client_id int4 NOT NULL,
	CONSTRAINT stream_groups_pkey PRIMARY KEY (id)
);


-- videoanalytics.streams definition

-- Drop table

-- DROP TABLE videoanalytics.streams;

CREATE TABLE videoanalytics.streams (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" varchar(255) NOT NULL,
	"path" text NULL,
	width int4 NOT NULL,
	height int4 NOT NULL,
	file_name varchar(255) NOT NULL,
	status int2 NOT NULL,
	created_at timestamp(3) DEFAULT now() NOT NULL,
	lat float8 DEFAULT 0 NOT NULL,
	lng float8 DEFAULT 0 NOT NULL,
	"type" varchar(45) DEFAULT 'rtsp'::character varying NOT NULL,
	"uuid" uuid NOT NULL,
	address varchar(255) DEFAULT ''::character varying NOT NULL,
	params text NULL,
	auth text NULL,
	direction int4 DEFAULT 0 NOT NULL,
	client_id int4 NOT NULL,
	codec varchar(10) NULL,
	timezone varchar(100) NULL,
	duration int8 NULL,
	restrictions text NULL,
	parent_id int4 DEFAULT 0 NOT NULL,
	CONSTRAINT streams_pkey PRIMARY KEY (id)
);


-- videoanalytics.system_settings definition

-- Drop table

-- DROP TABLE videoanalytics.system_settings;

CREATE TABLE videoanalytics.system_settings (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	variable_name varchar(45) NOT NULL,
	value text NULL,
	CONSTRAINT system_settings_pkey PRIMARY KEY (id)
);


-- videoanalytics.traffic_counters definition

-- Drop table

-- DROP TABLE videoanalytics.traffic_counters;

CREATE TABLE videoanalytics.traffic_counters (
	analytics_id int4 NOT NULL,
	"type" int4 NOT NULL,
	line_id int4 NOT NULL,
	direction int4 NOT NULL,
	count int4 NOT NULL,
	CONSTRAINT traffic_counters_pkey PRIMARY KEY (analytics_id, type, line_id, direction)
);


-- videoanalytics.traffic_stat definition

-- Drop table

-- DROP TABLE videoanalytics.traffic_stat;

CREATE TABLE videoanalytics.traffic_stat (
	id int8 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1 NO CYCLE) NOT NULL,
	stream_id int4 NOT NULL,
	va_id int4 NOT NULL,
	line int4 NOT NULL,
	"type" int4 NOT NULL,
	count int4 NOT NULL,
	direction int4 DEFAULT 0 NOT NULL,
	created_at timestamp(3) DEFAULT now() NOT NULL,
	client_id int4 NOT NULL,
	frame_image text NULL,
	object_image text NULL,
	notification_status int4 DEFAULT 0 NOT NULL,
	accepted_by int4 DEFAULT 0 NOT NULL,
	x1 float8 DEFAULT 0 NOT NULL,
	y1 float8 DEFAULT 0 NOT NULL,
	x2 float8 DEFAULT 0 NOT NULL,
	y2 float8 DEFAULT 0 NOT NULL,
	confidence float8 DEFAULT 0 NOT NULL,
	line_object text NULL,
	latitude numeric(9, 6) NULL,
	longitude numeric(9, 6) NULL,
	CONSTRAINT traffic_stat_pkey PRIMARY KEY (id)
);
CREATE INDEX line ON videoanalytics.traffic_stat USING btree (line);
CREATE INDEX traffic_stat_notification_status_index ON videoanalytics.traffic_stat USING btree (notification_status);
CREATE INDEX traffic_stat_type ON videoanalytics.traffic_stat USING btree (type);
CREATE INDEX va_id ON videoanalytics.traffic_stat USING btree (va_id);


-- videoanalytics.users definition

-- Drop table

-- DROP TABLE videoanalytics.users;

CREATE TABLE videoanalytics.users (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	email varchar(250) DEFAULT ''::character varying NOT NULL,
	fullname varchar(250) DEFAULT ''::character varying NOT NULL,
	"password" varchar(64) DEFAULT ''::character varying NOT NULL,
	last_ip varchar(64) NULL,
	last_login timestamp(3) NOT NULL,
	ip_params text NOT NULL,
	status int4 DEFAULT 1 NOT NULL,
	created_at timestamp(3) DEFAULT now() NOT NULL,
	settings text NULL,
	client_id int4 NOT NULL,
	client_info text NULL,
	"type" varchar(45) DEFAULT 'basic'::character varying NOT NULL,
	timezone varchar(100) NULL,
	role_ids text NOT NULL,
	CONSTRAINT users_pkey PRIMARY KEY (id)
);


-- videoanalytics.windows_share_folder_configs definition

-- Drop table

-- DROP TABLE videoanalytics.windows_share_folder_configs;

CREATE TABLE videoanalytics.windows_share_folder_configs (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	host text NOT NULL,
	share_name text NOT NULL,
	username text NULL,
	"password" text NULL,
	"domain" text NULL,
	CONSTRAINT windows_share_folder_configs_pkey PRIMARY KEY (id)
);


-- videoanalytics.zone_exit_notifications definition

-- Drop table

-- DROP TABLE videoanalytics.zone_exit_notifications;

CREATE TABLE videoanalytics.zone_exit_notifications (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	analytics_id int4 NOT NULL,
	object_id text NOT NULL,
	zone_id text NULL,
	seconds_in_zone int4 NOT NULL,
	object_type int2 NULL,
	notification_type varchar(10) DEFAULT 'exit'::character varying NOT NULL,
	created_at timestamp(3) NOT NULL,
	client_id int4 NULL,
	CONSTRAINT zone_exit_notifications_pkey PRIMARY KEY (id)
);


-- videoanalytics.zone_exit_notifications_object_type definition

-- Drop table

-- DROP TABLE videoanalytics.zone_exit_notifications_object_type;

CREATE TABLE videoanalytics.zone_exit_notifications_object_type (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	zone_exit_notifications_id int4 DEFAULT 1 NOT NULL,
	object_type int4 NULL,
	CONSTRAINT zone_exit_notifications_object_type_pkey PRIMARY KEY (id)
);


-- videoanalytics.aggregated_metrics_analytics_servers definition

-- Drop table

-- DROP TABLE videoanalytics.aggregated_metrics_analytics_servers;

CREATE TABLE videoanalytics.aggregated_metrics_analytics_servers (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	start_time timestamp(3) NOT NULL,
	server_id varchar(255) NOT NULL,
	ip_address varchar(64) NOT NULL,
	cpu_load text NOT NULL,
	client_id int4 NOT NULL,
	CONSTRAINT aggregated_metrics_analytics_servers_pkey PRIMARY KEY (id),
	CONSTRAINT "FK__metrics_analytics_servers__metrics_core" FOREIGN KEY (start_time) REFERENCES videoanalytics.aggregated_metrics_core(start_time) ON DELETE CASCADE
);


-- videoanalytics.aggregated_metrics_analytics_servers_gpu definition

-- Drop table

-- DROP TABLE videoanalytics.aggregated_metrics_analytics_servers_gpu;

CREATE TABLE videoanalytics.aggregated_metrics_analytics_servers_gpu (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	server_metrics_id int4 NOT NULL,
	gpu_id int4 NOT NULL,
	gpu_name varchar(255) NOT NULL,
	"load" text NOT NULL,
	client_id int4 NOT NULL,
	CONSTRAINT aggregated_metrics_analytics_servers_gpu_pkey PRIMARY KEY (id),
	CONSTRAINT "FK__metrics_analytics_servers_gpu__metrics_analytics_servers" FOREIGN KEY (server_metrics_id) REFERENCES videoanalytics.aggregated_metrics_analytics_servers(id) ON DELETE CASCADE
);


-- videoanalytics.alpr_speed_rule_events definition

-- Drop table

-- DROP TABLE videoanalytics.alpr_speed_rule_events;

CREATE TABLE videoanalytics.alpr_speed_rule_events (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	rule_id int4 NULL,
	speed_value int4 DEFAULT 0 NULL,
	speed_unit int4 DEFAULT 0 NULL,
	detection1_id int8 NULL,
	detection2_id int8 NULL,
	CONSTRAINT alpr_speed_rule_events_pkey PRIMARY KEY (id),
	CONSTRAINT "FK__alpr_speed_rule_events_alpr_detections" FOREIGN KEY (detection2_id) REFERENCES videoanalytics.alpr_detections(id) ON DELETE CASCADE
);
CREATE INDEX alpr_speed_rule_events_rule_id ON videoanalytics.alpr_speed_rule_events USING btree (rule_id);


-- videoanalytics.object_in_zone_object_type definition

-- Drop table

-- DROP TABLE videoanalytics.object_in_zone_object_type;

CREATE TABLE videoanalytics.object_in_zone_object_type (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	object_in_zone_id int4 DEFAULT 1 NOT NULL,
	object_type int4 NULL,
	confidence float8 DEFAULT 0 NULL,
	box bytea NULL,
	CONSTRAINT object_in_zone_object_type_pkey PRIMARY KEY (id),
	CONSTRAINT "FK__object_in_zone_object_type_object_in_zone_id" FOREIGN KEY (object_in_zone_id) REFERENCES videoanalytics.object_in_zone_notifications(id) ON DELETE CASCADE
);
CREATE INDEX object_in_zone_object_type_object_in_zone_id ON videoanalytics.object_in_zone_object_type USING btree (object_in_zone_id);


-- videoanalytics.smart_va_list_items definition

-- Drop table

-- DROP TABLE videoanalytics.smart_va_list_items;

CREATE TABLE videoanalytics.smart_va_list_items (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" text NOT NULL,
	description text NULL,
	list_id int4 NOT NULL,
	created_at timestamp(3) NOT NULL,
	client_id int4 NOT NULL,
	expiration_settings text NULL,
	created_by int4 NULL,
	CONSTRAINT smart_va_list_items_pkey PRIMARY KEY (id),
	CONSTRAINT "FK_smart_va_list_items__smart_va_lists" FOREIGN KEY (list_id) REFERENCES videoanalytics.smart_va_lists(id) ON DELETE CASCADE
);


-- videoanalytics.smart_va_list_people_events definition

-- Drop table

-- DROP TABLE videoanalytics.smart_va_list_people_events;

CREATE TABLE videoanalytics.smart_va_list_people_events (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	list_item_id int4 NOT NULL,
	stream_id int4 NOT NULL,
	va_id int4 NOT NULL,
	created_at timestamp(3) NOT NULL,
	frame_image text NOT NULL,
	x1 float8 NOT NULL,
	y1 float8 NOT NULL,
	x2 float8 NOT NULL,
	y2 float8 NOT NULL,
	client_id int4 NOT NULL,
	confidence float8 NULL,
	accepted bool DEFAULT false NULL,
	CONSTRAINT smart_va_list_people_events_pkey PRIMARY KEY (id),
	CONSTRAINT "FK_smart_va_list_people_events__smart_va_list_items" FOREIGN KEY (list_item_id) REFERENCES videoanalytics.smart_va_list_items(id) ON DELETE CASCADE
);
CREATE INDEX smart_va_list_people_events__created_at ON videoanalytics.smart_va_list_people_events USING btree (created_at);
CREATE INDEX smart_va_list_people_events__list_item_id ON videoanalytics.smart_va_list_people_events USING btree (list_item_id);


-- videoanalytics.smart_va_notification_objects definition

-- Drop table

-- DROP TABLE videoanalytics.smart_va_notification_objects;

CREATE TABLE videoanalytics.smart_va_notification_objects (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	notification_id int4 DEFAULT 1 NOT NULL,
	object_type int4 NULL,
	confidence float8 DEFAULT '0'::double precision NULL,
	x1 float8 NOT NULL,
	y1 float8 NOT NULL,
	x2 float8 NOT NULL,
	y2 float8 NOT NULL,
	intersected_line_id varchar(12) NULL,
	line_intersection_direction int4 NULL,
	CONSTRAINT smart_va_object_type_pkey PRIMARY KEY (id),
	CONSTRAINT "FK__smart_va_notifications__smart_va_object_type" FOREIGN KEY (notification_id) REFERENCES videoanalytics.smart_va_notifications(id) ON DELETE CASCADE
);


-- videoanalytics.smart_va_list_item_images definition

-- Drop table

-- DROP TABLE videoanalytics.smart_va_list_item_images;

CREATE TABLE videoanalytics.smart_va_list_item_images (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	image text NOT NULL,
	list_item_id int4 NOT NULL,
	client_id int4 NOT NULL,
	CONSTRAINT smart_va_list_item_images_pkey PRIMARY KEY (id),
	CONSTRAINT "FK_smart_va_list_item_images__smart_va_list_items" FOREIGN KEY (list_item_id) REFERENCES videoanalytics.smart_va_list_items(id) ON DELETE CASCADE
);